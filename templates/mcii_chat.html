{% extends "dashboard_base.html" %}
{% block title %}Page Title | ProActive{% endblock %}

{% block extra_head %}
<style>
    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }

    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
</style>
{% endblock %}

{% block main_class %}flex flex-col overflow-hidden{% endblock %}

{% block content %}
              <div class="p-6 lg:px-10 lg:pt-8 shrink-0">
                    <div class="mx-auto max-w-4xl">
                        <h2 class="text-2xl font-bold font-display">MCII Intervention Assistant</h2>
                        <p class="text-gray-500 text-sm mt-1">Harness the power of Mental Contrasting and Implementation
                            Intentions.</p>
                    </div>
                </div>
                <div class="flex-1 overflow-y-auto px-6 lg:px-10 scrollbar-hide">
                    < class="mx-auto max-w-4xl flex flex-col gap-6 py-4">

                            {% for intervention in interventions %}
                            {# AI message #}
                            <div class="flex items-start gap-3 max-w-[80%]">
                                <div class="size-8 rounded-full bg-slate-200 flex items-center justify-center shrink-0">
                                    <span class="material-symbols-outlined text-sm text-slate-600">smart_toy</span>
                                </div>
                                <div class="bg-slate-100 px-4 py-3 rounded-2xl rounded-tl-none text-sm leading-relaxed text-gray-800">
                                    {{ intervention.prompt_text }}
                                </div>
                            </div>
                            
                            {# Student response — only show if they replied #}
                            {% if intervention.user_response %}
                            <div class="flex items-start gap-3 max-w-[80%] self-end flex-row-reverse">
                                <div class="size-8 rounded-full bg-primary/20 flex items-center justify-center shrink-0">
                                    <span class="material-symbols-outlined text-sm text-primary">person</span>
                                </div>
                                <div class="bg-primary text-white px-4 py-3 rounded-2xl rounded-tr-none text-sm leading-relaxed">
                                    {{ intervention.user_response }}
                                </div>
                            </div>
                            {% endif %}
                            
                            {% else %}
                            {# No interventions yet — show a starter message #}
                            <div class="flex items-start gap-3 max-w-[80%]">
                                <div class="size-8 rounded-full bg-slate-200 flex items-center justify-center shrink-0">
                                    <span class="material-symbols-outlined text-sm text-slate-600">smart_toy</span>
                                </div>
                                <div class="bg-slate-100 px-4 py-3 rounded-2xl rounded-tl-none text-sm leading-relaxed text-gray-800">
                                    What academic goal would you like to achieve this week?
                                </div>
                            </div>
                         
                            {% endfor %}
                    </div>
                </div>
                <div class="p-6 lg:px-10 lg:pb-10 shrink-0">
                    <div class="mx-auto max-w-4xl">
                        <div class="relative flex items-center">
                            <input
                                class="w-full h-14 pl-5 pr-14 rounded-xl border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 shadow-sm focus:ring-primary focus:border-primary text-sm"
                                placeholder="Type your response..." type="text" />
                            <button
                                class="absolute right-2 size-10 flex items-center justify-center bg-primary text-white rounded-lg hover:bg-blue-700 transition shadow-md">
                                <span class="material-symbols-outlined text-xl">send</span>
                            </button>
                        </div>
                        <div
                            class="mt-3 flex justify-center gap-4 text-[10px] text-gray-400 font-medium uppercase tracking-widest">
                            <span>AI-Powered Strategy</span>
                            <span>•</span>
                            <span>MCII Framework</span>
                            <span>•</span>
                            <span>24/7 Support</span>
                        </div>
                    </div>
                </div>
{% endblock %}




