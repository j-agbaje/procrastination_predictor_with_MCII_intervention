{% extends "base.html" %}
{% block title %}ProActive Login{% endblock %}

{% block body %}
<div class="flex min-h-screen w-full">
    <div class="hidden lg:flex lg:w-1/2 relative overflow-hidden items-center justify-center p-12"
        style="background-color:#136dec;background-image:linear-gradient(30deg,#0d56bc 12%,transparent 12.5%,transparent 87%,#0d56bc 87.5%),linear-gradient(150deg,#0d56bc 12%,transparent 12.5%,transparent 87%,#0d56bc 87.5%),linear-gradient(60deg,#1063d6 25%,transparent 25.5%,transparent 75%,#1063d6 75%);background-size:80px 140px;">
        <div class="z-10 max-w-md text-white">
            <div
                class="mb-8 inline-flex items-center justify-center p-3 bg-white/10 backdrop-blur-md rounded-xl border border-white/20">
                <span class="material-symbols-outlined text-4xl">auto_awesome</span>
            </div>
            <h1 class="text-5xl font-black leading-tight tracking-tight mb-6">Master your time with ProActive.</h1>
            <p class="text-xl font-light leading-relaxed text-blue-50">
                AI-powered predictive tracking helps students identify procrastination patterns before they become
                deadlines.
            </p>
        </div>
    </div>

    <div
        class="w-full lg:w-1/2 flex flex-col items-center justify-center px-6 py-12 md:px-12 bg-white dark:bg-background-dark">
        <div class="w-full max-w-[440px]">
            <div class="flex flex-col mb-10">
                <div class="flex items-center gap-3 mb-8">
                    <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center text-white">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                            <path clip-rule="evenodd" d="M24 4H6V17.3333V30.6667H24V44H42V30.6667V17.3333H24V4Z"
                                fill-rule="evenodd"></path>
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold tracking-tight">ProActive</h2>
                </div>
                <h3 class="text-3xl font-bold mb-2">Sign in to your account</h3>
                <p class="text-[#617289]">Welcome back! Please enter your details.</p>
            </div>

            {# Server-side error message — set by FastAPI before rendering #}
            {% if error %}
            <div class="mb-5 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm">
                {{ error }}
            </div>
            {% endif %}

            {# Pure HTML form POST — no JavaScript needed #}
            <form action="/auth/login" method="post" class="flex flex-col gap-5">
                <div class="flex flex-col gap-2">
                    <label class="text-sm font-semibold">Email Address</label>
                    <div class="relative">
                        <span
                            class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-[#617289] text-xl">mail</span>
                        <input name="email" type="email" required value="{{ form_email | default('') }}"
                            class="w-full pl-12 pr-4 h-14 rounded-xl border border-[#dbe0e6] bg-white focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none placeholder:text-[#617289]"
                            placeholder="name@university.edu" />
                    </div>
                </div>

                <div class="flex flex-col gap-2">
                    <label class="text-sm font-semibold">Password</label>
                    <div class="relative">
                        <span
                            class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-[#617289] text-xl">lock</span>
                        <input name="password" type="password" required
                            class="w-full pl-12 pr-4 h-14 rounded-xl border border-[#dbe0e6] bg-white focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none placeholder:text-[#617289]"
                            placeholder="••••••••" />
                    </div>
                </div>

                <button type="submit"
                    class="w-full h-14 bg-primary hover:bg-primary/90 text-white font-bold rounded-xl shadow-lg shadow-primary/20 transition-all flex items-center justify-center gap-2 mt-4">
                    <span>Sign In</span>
                    <span class="material-symbols-outlined text-xl">arrow_forward</span>
                </button>
            </form>

            <div class="mt-10 text-center">
                <p class="text-[#617289]">Don't have an account?
                    <a class="text-primary font-bold hover:underline ml-1" href="/signup">Get started for free</a>
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}